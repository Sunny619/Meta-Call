<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meta-Call</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0%' stop-color='%233b82f6'/><stop offset='100%' stop-color='%238b5cf6'/></linearGradient></defs><circle cx='50' cy='50' r='48' fill='none' stroke='url(%23g)' stroke-width='2'/><circle cx='50' cy='50' r='3' fill='url(%23g)'/><circle cx='50' cy='25' r='2.5' fill='url(%23g)' opacity='0.8'/><circle cx='75' cy='50' r='2.5' fill='url(%23g)' opacity='0.8'/><circle cx='50' cy='75' r='2.5' fill='url(%23g)' opacity='0.8'/><circle cx='25' cy='50' r='2.5' fill='url(%23g)' opacity='0.8'/><line x1='50' y1='50' x2='50' y2='25' stroke='%233b82f6' stroke-width='1' opacity='0.5'/><line x1='50' y1='50' x2='75' y2='50' stroke='%233b82f6' stroke-width='1' opacity='0.5'/><line x1='50' y1='50' x2='50' y2='75' stroke='%233b82f6' stroke-width='1' opacity='0.5'/><line x1='50' y1='50' x2='25' y2='50' stroke='%233b82f6' stroke-width='1' opacity='0.5'/></svg>">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@800;900&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-main: #ffffff;
      --bg-secondary: #f8fafc;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      
      /* Vibrant Cyberpunk-Enterprise Accents */
      --accent-cyan: #06b6d4;
      --accent-blue: #3b82f6;
      --accent-purple: #8b5cf6;
      --accent-pink: #ec4899;
      --brand-gradient: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-purple) 100%);
    }

    html,body{height:100%;margin:0}
    body{
      font-family: 'Poppins', sans-serif;
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      overflow:hidden;
      position: relative;
    }

    /* --- NEW FANCY BACKGROUND LAYERS --- */

    /* Layer 1: Hexagonal Data Grid Pattern */
    body::before {
        content: ""; position: fixed; inset: 0; z-index: -3;
        opacity: 0.4;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l25.98 15v30L30 60 4.02 45V15z' fill-opacity='0' stroke='%236366f1' stroke-width='0.5' stroke-opacity='0.15'/%3E%3C/svg%3E");
        mask-image: radial-gradient(circle at center, black 40%, transparent 100%); /* Fade out towards edges */
    }

    /* Layer 2: Glowing Animated Plasma Orbs */
    .plasma-orb {
        position: fixed;
        border-radius: 50%;
        filter: blur(100px);
        z-index: -2;
        opacity: 0.3;
        mix-blend-mode: multiply; /* Blends nicely into the light background */
        animation: floatOrb 20s ease-in-out infinite alternate;
    }
    .orb-1 {
        top: -20%; left: -10%; width: 50vw; height: 50vw;
        background: var(--accent-cyan);
        animation-duration: 25s;
    }
    .orb-2 {
        bottom: -20%; right: -10%; width: 60vw; height: 60vw;
        background: var(--accent-purple);
        animation-duration: 30s;
        animation-direction: alternate-reverse;
    }
    .orb-3 {
        top: 40%; left: 30%; width: 30vw; height: 30vw;
        background: var(--accent-blue);
        animation-duration: 22s;
        opacity: 0.2;
    }
    @keyframes floatOrb {
        0% { transform: translate(0, 0) scale(1); }
        50% { transform: translate(10%, 15%) scale(1.1); }
        100% { transform: translate(-5%, -10%) scale(0.9); }
    }


    /* --- LAYOUT & MAIN PANEL --- */
    #net-canvas{position:fixed;inset:0;z-index:-1;pointer-events:none; opacity: 0.8;}
    #particles{position:fixed;inset:0;z-index:-1;pointer-events:none;}
    
    .wrap{position:relative;z-index:3;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:40px}

    .panel{
      width:980px;max-width:96%;
      display:grid;grid-template-columns:1fr 450px; gap:40px; align-items:center;
      /* Glassmorphism restored and cleaned up for enterprise look */
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
      padding: 48px;
      border-radius: 24px;
      /* Subtle glowing border */
      border: 1px solid rgba(99, 102, 241, 0.2);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(255,255,255,0.5);
      animation: fadeInUp .8s ease forwards;
      opacity: 0;
    }

    /* --- BRANDING --- */
    .brand{ padding:0; border:none; background:none; box-shadow: none; backdrop-filter: none; }

    h1.title{
        font-family:'Nunito',sans-serif;
        font-size:48px;
        margin:0 0 16px; font-weight:900; letter-spacing:-1px; text-transform:none;
        background: var(--brand-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .brand-logo{width:88px;height:88px;flex-shrink:0;display:block; animation: logoFloat 8s ease-in-out infinite; transform-origin:center center}
    .brand-logo .ring, .brand-logo .ring2 {stroke-opacity:0.1; stroke: var(--text-primary);} 
    .brand-logo .node{fill:var(--accent-cyan); filter:none;}
    .brand-logo .node.outer{fill:var(--accent-purple);opacity:1}
    .brand-logo .connector{stroke:url(#sg);stroke-width:2; filter:none; stroke-opacity:0.6; }
    .brand-logo .connector-shadow{display:none;}

    @keyframes logoFloat{0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}
    
    p.lead{ color: var(--text-secondary); font-size:18px; line-height: 1.6; margin:0 0 24px; font-weight: 400; }

    /* Overrides for the "Featured" text block to match new theme */
    .brand div[style*="color:#9fb9d6"] { color: var(--accent-blue) !important; font-weight: 700; letter-spacing: 1.2px; text-transform: uppercase; font-size: 11px !important;}
    .brand div[style*="color:#dbeafe"] { color: var(--text-primary) !important; font-size: 1.2rem; letter-spacing: -0.5px;}
    .brand div[style*="color:#bcdff9"] { color: var(--text-secondary) !important; font-weight: 500; }

    /* --- RIGHT SIDE: FORM CARD --- */
    .card-glass{
      padding:32px; border-radius:16px;
      background: rgba(248, 250, 252, 0.7); /* Slightly transparent for layering */
      border:1px solid rgba(226, 232, 240, 0.8);
      box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
    }

    label{display:block;font-size:13px; font-weight: 700; color:var(--text-primary); margin-bottom:8px; text-transform: uppercase; letter-spacing: 0.5px;}
    
    input[type=text], select{
        width:100%; padding:12px 16px; border-radius:8px;
        border: 2px solid #e2e8f0;
        background: rgba(255,255,255,0.9);
        color: var(--text-primary);
        outline:none; font-size: 14px; transition: all .2s ease;
    }
    input::placeholder{color: #cbd5e1; transition:opacity .2s}
    .form-text{font-size:13px; color:var(--text-secondary); margin-top:8px}

    .btn-neon{
        display:inline-block; padding:12px 24px; border-radius:8px; border:none;
        background: var(--brand-gradient);
        color:white; font-weight:600; font-size: 15px; cursor:pointer; position:relative; overflow:hidden;
        box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.25), 0 2px 4px -1px rgba(37, 99, 235, 0.1);
        transition: all 0.3s ease;
    }
    .btn-neon:hover{
        transform:translateY(-2px);
        box-shadow: 0 15px 30px -5px rgba(99, 102, 241, 0.4);
        filter: brightness(1.1);
    }

    .download-api .btn-outline-light { color: var(--accent-purple); border-color: #d8b4fe; font-weight: 600; }
    .download-api .btn-outline-light:hover { background-color: var(--accent-purple); border-color: var(--accent-purple); color: white; }
    .download-api div[style*="color:#9fb9d6"] { color: var(--text-secondary) !important; }

    @keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}

    .mb-3{position:relative}
    input[type=text]:focus, select:focus{
        border-color: var(--accent-blue);
        box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
        background: #fff;
    }
    .mb-3:focus-within label{color:var(--accent-blue);}

    @media (max-width:900px){
      .panel{grid-template-columns:1fr; padding: 32px;}
    }
  </style>
</head>

<body>
  <div class="plasma-orb orb-1"></div>
  <div class="plasma-orb orb-2"></div>
  <div class="plasma-orb orb-3"></div>
  
  <canvas id="net-canvas" aria-hidden="true"></canvas>
  <div id="particles" aria-hidden="true"></div>


  <div class="wrap">
    <div class="panel">
      <div class="brand">
        <div style="display:flex;gap:24px;align-items:flex-start">
          <svg class="brand-logo" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <defs>
              <radialGradient id="lg" cx="50%" cy="40%">
                <stop offset="0%" stop-color="#3b82f6"/>
                <stop offset="100%" stop-color="#8b5cf6"/>
              </radialGradient>
              <linearGradient id="sg" x1="0" x2="1">
                <stop offset="0%" stop-color="#0ea5e9"/>
                <stop offset="100%" stop-color="#ec4899"/>
              </linearGradient>
            </defs>
            <g class="rings">
              <g transform="translate(60,60)">
                <circle class="ring" r="36" fill="none" stroke="url(#sg)"/>
                <circle class="ring2" r="24" fill="none" stroke="url(#lg)"/>
              </g>
            </g>
            <g id="connections" transform="translate(60,60)"></g>
            <g class="nodes" transform="translate(60,60)">
              <circle id="nodeCenter" class="node center" cx="0" cy="0" r="6" fill="url(#lg)"/>
              <circle id="nodeUp" class="node outer" cx="0" cy="-36" r="3.6" fill="#0ea5e9"/>
              <circle id="nodeRight" class="node outer" cx="36" cy="0" r="3.6" fill="#8b5cf6"/>
              <circle id="nodeDown" class="node outer" cx="0" cy="36" r="3.6" fill="#0ea5e9"/>
              <circle id="nodeLeft" class="node outer" cx="-36" cy="0" r="3.6" fill="#8b5cf6"/>
            </g>
          </svg>
          <div>
            <h1 class="title">Meta-Call</h1>
            <p class="lead">Step into a new kind of video call — avatars, shared spaces, and low-friction presence. Choose an avatar and teleport into a room.</p>
          </div>
        </div>

        <div style="display:flex;gap:18px;align-items:center;flex-wrap:wrap; margin-top: 32px; padding-top: 24px; border-top: 1px solid rgba(226, 232, 240, 0.6);">
          <div style="flex:1;min-width:160px">
            <div style="color:#9fb9d6;font-size:12px">Featured</div>
            <div style="font-weight:700;color:#dbeafe; margin-top: 4px;">Neon Metahub</div>
            <div style="margin-top:4px;font-size:13px;color:#bcdff9">Low-latency avatar streaming · Spatial audio ready</div>
          </div>
        </div>
      </div>

      <div class="card-glass">
        <form>
          <div class="mb-3">
            <label for="username">Name</label>
            <input type="text" id="username" placeholder="Enter your avatar name">
          </div>
          <div class="mb-3">
            <label for="roomcode">Room Code</label>
            <input type="text" id="roomcode" placeholder="e.g. NEON-1234">
          </div>
          <div class="mb-3">
            <label for="password">Password</label>
            <input type="text" id="password" placeholder="optional">
            <div class="form-text">Leave this blank if you don't want to set a password</div>
          </div>
          <div class="mb-4">
            <label>Camera</label>
            <select id="cam">
              <option value="0">Normal Camera</option>
              <option value="1">Meta Camera</option>
            </select>
          </div>
          <div style="display:flex;gap:10px;align-items:center;justify-content:space-between">
            <button type="button" class="btn-neon" onclick="join()">Create / Join</button>
            <div class="download-api">
              <div style="font-size:12px;color:#9fb9d6; margin-bottom: 4px;">Need the local API?</div>
              <a class="btn btn-sm btn-outline-light" href="https://github.com/Beyonder22/MetaV3/archive/refs/heads/main.zip" download>Download</a>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
    <script src="home.js" defer></script>
    <script src="https://code.jquery.com/jquery-3.6.4.slim.min.js"
      integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"></script>

    <script>
      // --- NEW: Rising "Data Packet" Particles ---
      (function(){
        const container = document.getElementById('particles');
        if(!container) return;
        
        const colors = ['#06b6d4', '#3b82f6', '#8b5cf6', '#ec4899'];

        function make(){
          const el = document.createElement('div');
          const size = Math.random()*8+4;
          const color = colors[Math.floor(Math.random() * colors.length)];
          
          el.style.position='absolute';
          el.style.left = Math.random()*100 + '%';
          el.style.bottom = '-20px';
          el.style.width = size+'px';
          el.style.height = size+'px';
          // Square/Diamond shape for "data" feel
          el.style.borderRadius = '2px'; 
          el.style.transform = 'rotate(45deg)';
          el.style.background = color;
          el.style.opacity = '0';
          el.style.boxShadow = `0 0 ${size*2}px ${color}`; // Subtle glow
          
          container.appendChild(el);

          const dur = 10000 + Math.random()*15000;
          el.animate([
            {transform:`translateY(0) rotate(45deg) scale(0.5)`, opacity:0},
            {transform:`translateY(-${window.innerHeight*0.3}px) rotate(${45 + Math.random()*90}deg) scale(1)`, opacity:0.6, offset: 0.3},
            {transform:`translateY(-${window.innerHeight*1.2}px) rotate(${90 + Math.random()*180}deg) scale(0.5)`, opacity:0}
          ],{duration:dur, easing:'linear'}).onfinish = ()=> el.remove();
        }
        // Spawn frequently
        setInterval(()=>{ make(); }, 400);
      })();
    </script>

    <script>
      // --- UPDATED: Brand Logo Animation (Smooth and premium) ---
      (function(){
        const svg = document.querySelector('.brand-logo');
        if(!svg) return;
        const nodes = { center: document.getElementById('nodeCenter'), up: document.getElementById('nodeUp'), right: document.getElementById('nodeRight'), down: document.getElementById('nodeDown'), left: document.getElementById('nodeLeft') };
        const connectionsGroup = document.getElementById('connections');
        const outers = [nodes.up, nodes.right, nodes.down, nodes.left];
        const pairs = [];
        for(let i=0;i<outers.length;i++){
          for(let j=i+1;j<outers.length;j++){
            const lineMain = document.createElementNS('http://www.w3.org/2000/svg','line');
            lineMain.setAttribute('class','connector');
            connectionsGroup.appendChild(lineMain);
            pairs.push({a:i,b:j,main:lineMain});
          }
        }
        const base = {r:36};
        let t = 0;
        function update(){
          t += 0.008;
          const upPos = {x: Math.sin(t*1.2)*2, y: -base.r + Math.cos(t*1.6)*2};
          const rightPos = {x: base.r + Math.cos(t*1.1)*2, y: Math.sin(t*1.3)*2};
          const downPos = {x: Math.sin(t*1.4)*2, y: base.r + Math.cos(t*0.9)*2};
          const leftPos = {x: -base.r + Math.cos(t*1.05)*2, y: Math.sin(t*0.95)*2};
          const posArr = [upPos, rightPos, downPos, leftPos];
          for(let k=0;k<outers.length;k++){
            outers[k].setAttribute('cx', posArr[k].x); outers[k].setAttribute('cy', posArr[k].y);
          }
          for(const pr of pairs){
            pr.main.setAttribute('x1', posArr[pr.a].x); pr.main.setAttribute('y1', posArr[pr.a].y);
            pr.main.setAttribute('x2', posArr[pr.b].x); pr.main.setAttribute('y2', posArr[pr.b].y);
          }
          requestAnimationFrame(update);
        }
        requestAnimationFrame(update);
      })();
    </script>
    <script>
      // --- UPDATED: Network Canvas (Vibrant cyberpunk colors on light bg) ---
      (function(){
        const canvas = document.getElementById('net-canvas');
        if(!canvas) return;
        const ctx = canvas.getContext('2d');
        let w = canvas.width = window.innerWidth;
        let h = canvas.height = window.innerHeight;
        const nodes = [];
        const NODE_COUNT = Math.max(15, Math.round((w*h)/120000));
        function rand(min,max){return Math.random()*(max-min)+min}
        // Define cyberpunk palette for the mesh
        const nodeColors = ['rgba(6, 182, 212, 0.5)', 'rgba(59, 130, 246, 0.5)', 'rgba(139, 92, 246, 0.5)'];

        for(let i=0;i<NODE_COUNT;i++){
          nodes.push({
            x:rand(0,w), y:rand(0,h), 
            vx:rand(-0.2,0.2), vy:rand(-0.2,0.2), 
            r:rand(2, 4),
            color: nodeColors[Math.floor(Math.random()*nodeColors.length)]
          });
        }
        function resize(){ w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize);
        function draw(){
          ctx.clearRect(0,0,w,h);
          for(let i=0;i<nodes.length;i++){
            const n = nodes[i];
            n.x += n.vx; n.y += n.vy;
            if(n.x<0||n.x>w) n.vx *= -1; if(n.y<0||n.y>h) n.vy *= -1;
          }
          for(let i=0;i<nodes.length;i++){
            const a = nodes[i];
            for(let j=i+1;j<nodes.length;j++){
              const b = nodes[j];
              const d = Math.hypot(a.x-b.x, a.y-b.y);
              if(d<180){
                const alpha = 1 - (d/180);
                // Vibrant connecting lines
                ctx.strokeStyle = `rgba(99, 102, 241, ${0.2*alpha})`;
                ctx.lineWidth = 1;
                ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
              }
            }
          }
          for(const n of nodes){
            ctx.fillStyle = n.color;
            ctx.beginPath(); ctx.arc(n.x,n.y,n.r,0,Math.PI*2); ctx.fill();
          }
          requestAnimationFrame(draw);
        }
        draw();
      })();
    </script>
</body>
</html>